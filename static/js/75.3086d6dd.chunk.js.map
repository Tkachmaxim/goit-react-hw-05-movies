{"version":3,"file":"static/js/75.3086d6dd.chunk.js","mappings":"sMAGMA,EAAW,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAClB,GAA6BC,EAAAA,EAAAA,MACvBC,EADN,EAAQC,SAAR,EAAkBC,OAGlB,OAAOJ,EAAKK,KAAI,gBAAGC,EAAH,EAAGA,cAAeC,EAAlB,EAAkBA,eAAgBC,EAAlC,EAAkCA,GAAlC,OACd,yBACE,UAAC,EAAAC,KAAD,CACEC,GAAIR,EAASE,OAAT,kBAA6BI,GAA7B,iBAA8CA,GAClDG,MAAO,CAAEC,KAAM,CAAEV,SAAAA,IAFnB,UAIGI,GAAiBC,EAAgB,QAL7BC,Q,uLCRPK,EAAU,mCAAhB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAA8BC,EAA9B,+BAAoC,GAAIC,EAAxC,+BAAiD,GAAjD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,iBAJ/B,2GAOA,IAAMC,EAAgB,WAEpB,OAuBF,WAMeC,EAAAA,MAAAA,KAAAA,WA9BbA,GACOX,EAAe,yDAAD,OACsCD,KAIvDa,EAAgB,SAAAC,GACpB,OAAOb,EAAe,sCAAD,OACmBa,EADnB,oBACuCd,EADvC,qBAKjBe,EAAgB,SAAAD,GACpB,OAAOb,EAAe,sCAAD,OACmBa,EADnB,4BAC+Cd,KAIhEgB,EAAiB,SAAAC,GACrB,OAAOhB,EAAe,qDAAD,OACkCD,EADlC,kBACmDiB,KAIpEC,EAAe,SAAAC,GACnB,OAAOlB,EAAe,sCAAD,OACmBkB,EADnB,4BAC8CnB,KAItDY,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,wFACMQ,aAAaC,QAAQ,UAD3B,iEAKuBpB,EAAe,yDAAD,OACwBD,IAN7D,OAKQsB,EALR,OAQEF,aAAaG,QAAQ,SAAUC,KAAKC,UAAUH,IARhD,oE,gFCnBA,UAjBa,WACX,OAA0BI,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KAMA,OAJAC,EAAAA,EAAAA,YAAU,YACRlB,EAAAA,EAAAA,MAAgBmB,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBH,EAASG,QAC9C,KAGD,0BACE,2CAEGJ,IAAS,SAAC,IAAD,CAAUxC,KAAMwC","sources":["components/FilmList.js/FilmList.js","helpers/API.js","pages/Home/Home.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst FilmList = ({ data }) => {\n  const { pathname, search } = useLocation();\n  const location = pathname + search;\n\n  return data.map(({ original_name, original_title, id }) => (\n    <li key={id}>\n      <Link\n        to={location.search ? `/movies/${id}` : `movies/${id}`}\n        state={{ from: { location } }}\n      >\n        {original_name || original_title}{' '}\n      </Link>\n    </li>\n  ));\n};\n\nexport { FilmList };\n\nFilmList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      original_name: PropTypes.string,\n      original_title: PropTypes.string,\n      id: PropTypes.number,\n    })\n  ),\n};\n","const API_KEY = '985bc3c757188a382d12315376e2d5f0';\n\nasync function fetchWithError(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Some occured'));\n}\n\nconst fetchTrending = () => {\n  getGenres();\n  return fetchWithError(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n  );\n};\n\nconst fetchFilmInfo = movie_id => {\n  return fetchWithError(\n    `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}&language=en-US`\n  );\n};\n\nconst fetchFilmCast = movie_id => {\n  return fetchWithError(\n    `https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=${API_KEY}`\n  );\n};\n\nconst fetchFilmQuery = query => {\n  return fetchWithError(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n};\n\nconst fetchReviews = movieId => {\n  return fetchWithError(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n};\n\nasync function getGenres() {\n  if (localStorage.getItem('genres')) {\n    return;\n  }\n\n  const genres = await fetchWithError(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  localStorage.setItem('genres', JSON.stringify(genres));\n}\n\nexport {\n  fetchTrending,\n  fetchFilmInfo,\n  fetchFilmCast,\n  fetchReviews,\n  fetchFilmQuery,\n};\n","import { FilmList } from 'components/FilmList.js/FilmList';\nimport { useEffect, useState } from 'react';\nimport { fetchTrending } from '../../helpers/API';\n\nconst Home = () => {\n  const [films, setFilms] = useState(null);\n\n  useEffect(() => {\n    fetchTrending().then(({ results }) => setFilms(results));\n  }, []);\n\n  return (\n    <div>\n      <ul>\n        Trending today\n        {films && <FilmList data={films} />}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":["FilmList","data","useLocation","location","pathname","search","map","original_name","original_title","id","Link","to","state","from","API_KEY","fetchWithError","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","getGenres","fetchFilmInfo","movie_id","fetchFilmCast","fetchFilmQuery","query","fetchReviews","movieId","localStorage","getItem","genres","setItem","JSON","stringify","useState","films","setFilms","useEffect","then","results"],"sourceRoot":""}